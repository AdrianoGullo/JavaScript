<!-- Modal -->
<div class="modal fade" id="modalInsights<%= index %>" tabindex="-1" role="dialog" aria-labelledby="modalTitle-<%= index %>" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">

        <div class="modal-content">
            <div class="modal-header">
                <div class="w-100 text-center">
                    <h5 class="modal-title badge badge-light w-100" id="modalTitle-<%= index %>" style="font-size: 115%;">
                        <%= insight.title %>
                        
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </h5>
                </div>
            </div>
        
            <div class="modal-body">
                <div class="text-center" style="margin-bottom: 3%;">
                    <span class="badge badge-warning">
                        <%= insight.type %>
                    </span>
                    <span class="badge badge-primary">
                        <%= insight.date %>
                    </span>
                </div>
                <!-- Carousel -->
                <div id="carousel2-<%= index %>" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <% insight.image_url.forEach((_, i) => { %>
                            <li data-target="#carousel2-<%= index %>" data-slide-to="<%= i %>" class="<%= i === 0 ? 'active' : '' %>"></li>
                        <% }); %>
                    </ol>
                    <div class="carousel-inner">
                        <% insight.image_url.forEach((insigh, i) => { %>
                            <div class="carousel-item <%= i === 0 ? 'active' : '' %>">
                                <img src="<%= insigh %>" class="d-block w-100" alt="Image" style="background-color: black; border-top-left-radius: 15px; border-top-right-radius: 15px;">
                            </div>
                        <% }); %>
                    </div>
                    <a class="carousel-control-prev" href="#carousel2-<%= index %>" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carousel2-<%= index %>" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
        
                <!-- Description Container -->
                <div class="description-container text-left" style="position: relative;">
                    <button class="btn btn-sm btn-dark w-100" type="button" data-toggle="collapse" data-target="#description<%= index %>" aria-expanded="false" aria-controls="description<%= index %>">
                        Show Description   
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-down-square" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm8.5 2.5a.5.5 0 0 0-1 0v5.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293z"/>
                        </svg>
                    </button>
                    <div id="description<%= index %>" class="collapse" 
                        style="background-color:  rgba(0, 0, 0, 0.7); color: white; padding: 10px; border-bottom-left-radius: 10px; border-bottom-right-radius: 10px; max-width: 100%;">
                        <p id="desc-text" style="margin: 0; font-size: 1rem; overflow: auto; text-overflow: ellipsis; margin: 0 2% 0 2%;" class="text-left">
                            <%- insight.description[0].replace(/\n/g, '<br>&nbsp;&nbsp;&nbsp;&nbsp;') %>
                        </p>
                    </div>                    
                </div>
            </div>
        </div>
        

    </div>
</div>